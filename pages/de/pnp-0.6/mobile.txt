====== Mobile UI ======

Mit PNP4Nagios 0.6.14 ist ein Webinterface für mobile Endgeräte in PNP4Nagios integriert worden.

Das Design wurde mit [[http://jquerymobile.com/|jQuery Mobile]] realisiert und ist somit mit den aktuellen mobilen Browsern kompatibel. Auf der Liste der [[http://jquerymobile.com/gbs/|unterstützten Geräte]] sind die einzelnen Browser aufgeführt und nach Grad der Unterstützung klassifiziert.

====== Landing Page ======

Das Webinterface wurde so gestaltet, dass die üblichen Links auf das klassische Interface abgefangen und auf die entsprechende mobile Seite umgeleitet werden. Somit können weiterhin innerhalb der Nagios-Mails Links zu PNP-Graphen eingebunden werden, die je nach Endgerät auf die passende Seite verweisen.

^ Classic ^ Mobile ^
| /pnp4nagios/graph                         | /pnp4nagios/mobile |
| /pnp4nagios/graph?host=localhost          | /pnp4nagios/mobile/host/localhost |
| /pnp4nagios/graph?host=localhost&srv=ping | /pnp4nagios/mobile/graph/localhost/ping |

====== Browser-Erkennung ======

Browser werden anhand ihres "User-Agent"-Strings als mobile Browser erkannt.
Die Erkennung kann in der Datei ''pnp4nagios/etc/[[webfe_cfg|config_local.php]]'' beeinflusst werden.

<code>
$conf['mobile_devices'] = 'iPhone|iPod|iPad|android';
</code>

Die Option 'mobile_devices' beinhaltet einen regulären Ausdruck, welcher mit dem "User Agent" des Browsers verglichen wird.

Der "User Agent" eines Browsers wird im Webserver-Access-Log protokolliert und sieht für ein iOS-Device in etwa wie folgt aus.

<code>
"Mozilla/5.0 (iPhone; U; CPU iPhone OS 4_1 like Mac OS X; en-us) AppleWebKit/532.9 (KHTML, like Gecko) Version/4.0.5 Mobile/8B117 Safari/6531.22.7"
</code>

====== Screenshots ======

Screenshot aufgenommen mit einem iPhone und iOS 4.2

| {{:mobile-home.png?150| Home Screen}} | Homescreen | {{:mobile-loading.png?150| Loading...}} | Loading ... |
| {{:mobile-hostlist.png?150| Hosts Liste }} | Liste aller Hosts | {{:mobile-servicelist.png?150| Liste aller services}} | Liste aller Services eines Hosts|
| {{:mobile-graphs.png?150| Graphen}} | Graphen eines Services | | |

