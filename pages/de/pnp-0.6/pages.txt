====== Pages ======

„pages“ bieten die Möglichkeit, Grafiken von verschiedenen Hosts/Services auf einer Seite zusammenzufassen. Auf diese Weise können z.B. die Übertragungsraten der Netzwerk-Interfaces aller Tape-Libraries dargestellt werden. Innerhalb der Definitionen sind reguläre Ausdrücke möglich, so dass – entsprechende Namen vorausgesetzt - mit wenig Aufwand viel erreicht werden kann.
Das Verzeichnis, das in ''config.php'' durch den Konfigurationseintrag „$conf['page_dir']“ angegeben wurde, enthält ein oder mehrere Dateien mit der Endung „.cfg“.

Kommentare beginnen mit einem '#' und sind auch innerhalb einer Zeile möglich.
Jede Datei enthält eine „page“-Definition, die neben dem Namen der Seite festlegt, ob die nachfolgenden Grafikdefinitionen reguläre Ausdrücke enthalten.\\ 
Die Bezeichnung hinter ''page_name'' erscheint in der Liste der verfügbaren Seiten und wird als Titel im Browser angezeigt.
**Achtung:** "host_name" und "service_desc" beziehen sich auf die Namen der Dateien im perfdata-Ordner, nicht auf die Nagios-Bezeichnungen. Leerzeichen werden durch Unterstriche ("_") ersetzt.

<code>define  page  {
        use_regex 1		# 0 = keine regulären Ausdrücke, 1 = reguläre Ausdrücke
        page_name Test-Seite	# Beschreibung der Seite
}</code>

Danach folgen ein oder mehrere „graph“-Definitionen:

<code>define graph {
        host_name       host1,host2,host3
        service_desc    Current_Load
}</code>
**Achtung:** Damit die oben gezeigte Liste von Host-Namen funktioniert, muss ''use_regex 0'' gesetzt sein!

<code>define graph {
        host_name       host4
        service_desc    Current_Users
}</code>

Und jetzt mit regulären Ausdrücken. Zuerst alle Hosts, deren Name mit „Tape“ beginnen:
<code>define graph {
        host_name       ^Tape
        service_desc    Traffic
}</code>

alle Hosts, deren Namen mit “00” enden
<code>define graph {
        host_name       00$
        service_desc    Load
}</code>

alle Services des localhost, deren Namen ein „a“ oder „o“ enthalten:
<code>define graph {
        host_name       localhost
        service_desc    a|o
}</code>

alle Services, die im Namen nach einem „_“  (mindestens) drei Ziffern haben auf allen Hosts, deren Namen mit „UX“ beginnen:
<code>define graph {
        host_name       ^UX
        service_desc    _\d{3}
}</code>

In einigen Fällen möchten Sie vielleicht die Anzeige auf einen Graphen beschränken. Um dies zu erreichen, können Sie die optionale Direktive "source" benutzen, gefolgt von einer Zahl, die die Position in der RRD-Datei angibt. Die Zählung beginnt ab 0
<code>define graph {
       host_name       host1,host2,host3
       service_desc    PING
       source          1
}</code>

[[start|zurück zur Übersicht]] | [[xport|Datenexport]]