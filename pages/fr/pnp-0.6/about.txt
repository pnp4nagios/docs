====== A propos de PNP ======


===== Besoin système =====

PNP a besoin de données de performance valides de la part des plugins nagios.

Mais qu'appelle t'on les données de performance ?

Les sorties des plugins en nagios jusqu'à la version 2.x sont limitées à une ligne. Quand le plugin donne des données de performance, la sortie se scinde en deux parties. Le pipe ("|") sert à délimiter ces deux parties.

**Exemple check_icmp :** 

   OK - 127.0.0.1: rta 2.687ms, lost 0% | rta=2.687ms;3000.000;5000.000;0; pl=0%;80;100;;

Voici la partie à gauche du pipe :

   OK - 127.0.0.1: rta 2.687ms, lost 0%

et ci-dessous les données de performance :

    rta=2.687ms;3000.000;5000.000;0; pl=0%;80;100;;

Les données de performance sont conçues pour être traitées automatiquement. Le format est spécifié dans le document [[https://www.monitoring-plugins.org/doc/guidelines.html#AEN200|Guide du développeur]] (vous trouverez rapide du format [[perfdata_format|à cet emplacement]]). Voici néanmoins un petit récapitulatif de la norme :

    rta=2.687ms;3000.000;5000.000;0;
     |    |  |    |         |     | |
     |----|--|----|---------|-----|-|----- * labelle 
          |--|----|---------|-----|-|----- * valeur courante
             |----|---------|-----|-|----- unité (UOM = UNIT of Measurement) 
                  |---------|-----|-|----- seuil de l'alerte warning
                            |-----|-|----- seuil de l'alerte critique 
                                  |-|----- valeur minimum
                                    |----- valeur maximum
                                    
Les champs marqués avec * sont obligatoires. Tous les autres sont optionnels.

Plusieurs séries de données peuvent être spécifiées en les séparant par des espaces. Si le label contient des blancs, il faut l'entourer de quote simple (').

===== Prérequis logiciels =====

  * Perl >= 5.x sans dépendance supplémentaire
  * RRDtool >= 1.x, voir 1.2 mais pas obligatoire\\ Attention: l'installation de RRDtool sans gestionnaire de paquet peut mener à des problèmes de fontes dejavu absentes. Si vous obtenez des graphiques sans texte, il s'agit peut-être de l'origine de votre problème.
  * PHP >= 5.1.6 pour le moteur web [[http://www.kohanaphp.com|Kohana]]
  * Nagios >= 2.x ou Icinga 
  * Kohana a besoin du module "mod_rewrite". Pour plus de détails, merci de vous reporter à la documentation spécifique de votre serveur web.

===== Licence =====

PNP est sous licence [[http://www.gnu.org/licenses/gpl-2.0.txt|GPL 2]]


===== Téléchargement =====

Le développement de PNP s'organise autour de [[http://sourceforge.net/projects/pnp4nagios|Sourceforge.Net]]. PNP est enregistré sous le nom "PNP4nagios".

La version stable 0.4.x actuelle est disponible à l'emplacement suivant : [[http://sourceforge.net/project/showfiles.php?group_id=191615|Sourceforge Download]]

Vous pouvez également utiliser la dernière version de développement de la 0.4.x qui est générée automatiquement chaque jour depuis notre dépot SVN.

Depuis la version PNP 0.6.x, le code source est passé de SVN à GIT.

La version actuelle de développement peut être consultée à tout moment sur http://pnp4nagios.git.sourceforge.net/. En cliquant sur  [[http://pnp4nagios.git.sourceforge.net/git/gitweb.cgi?p=pnp4nagios/pnp4nagios;a=snapshot;h=HEAD;sf=tgz|version de développement PNP]] téléchargera une archive avec la dernière version.
\\  

===== Support =====

AVANT de demander du support, merci de vous assurer d'avoir vérifié certaines choses dans l'article [[verify|vérification de votre installation]].\\ \\ 

Les développeurs et les contributeurs sont également présents sur [[http://www.nagios-portal.org]] et seront tenus au courant de nouveaux posts dans la section PNP. Il vous sera demandé de poster en anglais.\\ 
Après vous être enregistré en tant qu'utilisateur, **compléter votre profil en précisant la version de votre OS ainsi que la version de PNP. Précisez également si vous utilisez un package de la distribution ou si vous avez compilé le programme par vous même.**
Une fois votre problème résolu, merci de marquer le titre de votre post avec "[solved]". Cela aidera les autres utilisateurs à trouver une solution à leur problème.

Les mailing lists sur Sourceforge peuvent-être utilisées pour obtenir du support (merci de formuler vos demandes en anglais) :

[[https://lists.sourceforge.net/lists/listinfo/pnp4nagios-users|pnp4nagios-users]]: mailing-list des utilisateurs pour les questions sur la configuration. Merci de bien préciser votre version d'OS ainsi que la version de PNP.

[[https://lists.sourceforge.net/lists/listinfo/pnp4nagios-devel|pnp4nagios-devel]]: mailing-list de développement pour les demandes de fonctionnalités ou les rapports de bug. Merci de bien préciser votre version d'OS ainsi que la version de PNP.

[[https://lists.sourceforge.net/lists/listinfo/pnp4nagios-checkins|pnp4nagios-checkins]]: mailing-list du suivi de l'activité du développement.


=====Stockage=====

Les données de performance sont stockées en base RRD ([[http://www.rrdtool.org|RRDtool]]). Ceci veut dire que vos vieilles données à la fin du fichier RRD se feront remplacées par de nouvelles valeurs au début du fichier.

Il existe plusieurs intervalles avec différentes résolutions. Les valeurs par défaut permettent de stocker une valeur toutes les minutes pendant deux jours, une valeur toutes les 5 minutes pendant 10 jours, une valeur toutes les 1/2 heures pendant 90 jours et une valeur toutes les 6 heures pendant 4 ans. L'augmentation de l'intervalle va provoquer l'agrégation des valeurs ayant pour conséquence de réduire les valeurs max. Ceci n'est pas un bug de PNP.

L'utilisation de ce format garantie que la taille des fichiers ne changera pas au cours du temps. Chaque source de données prendra environ 400 Ko.


===== Statistiques et lien vers Sourceforge =====

{{rss>http://sourceforge.net/export/rss2_projsummary.php?group_id=191615 h12}}


[[start|Retour a l'index]] | [[modes|mode PNP]]