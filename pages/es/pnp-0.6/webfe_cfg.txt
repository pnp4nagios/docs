====== Frontal Web PNP ======

El comportamiento del Frontal Web de PNP se controla a través de un fichero de configuración ''etc/config.php''. Este fichero será sobreescrito en actualizaciones de PNP así como las rutas y opciones que sean detectadas en la etapa de ''./configure''.

Los ajustes personalizados deberían realizarse en ''etc/config_local.php''. Si no existe este fichero, se usarán los valores de config.php.
===== etc/config.php =====

A continuación se exponen los parámetros más importantes:

La ruta al binario RRDtool. Se detecta por ''./configure''

   $conf['rrdtool'] = "/usr/bin/rrdtool";

Altura y anchura de los gráficos de RRD

   $conf['graph_width'] = "500";
   $conf['graph_height'] = "100";

Los tamaños de las pantallas pueden variar, los de las páginas no. Las siguientes dos directivasle perimiten especificar diferentes tamaños para la creación de PDFs. Si no se especifican, se toman los valores de los gráficos.

   $conf['pdf_width'] = "675";
   $conf['pdf_height'] = "100";

Opciones adicionales pasadas con cada llamada de RRDTool, por ejemplo ''--slope-mode'' para suavizar los gráficos

   $conf['graph_opt'] = "";

La rutas a los ficheros RRD y XML creados por ''process_perfdata.pl''

   $conf['rrdbase'] = "/usr/local/pnp4nagios/var/perfdata/";

La ruta al fichero de configuración para [[pages]].

   $conf['page_dir'] = "/usr/local/pnp4nagios/etc/pages/";

----

Las páginas de PNP se refrescarán cada n segundos

   $conf['refresh'] = "90";

----

Max. de edad de los archivos RRD en segundos. Después de alcanzar este valor los enlaces a los gráficos serán marcados como inactivos

   $conf['max_age'] = 60*60*6;

----


URL base para los CGIs de Nagios

   $conf['nagios_base'] = "/nagios/cgi-bin";

----
Lista de usuarios permitidos para ver los enlaces a los servicios del equipo actual

   $conf['allowed_for_service_links'] = "EVERYONE";

----

Lista de usuarios que pueden ver/aceder al campo de búsqueda de equipos

   $conf['allowed_for_host_search'] = "EVERYONE";

----

Si PNP se llama con un sólo equipo ( index.php?host=<myserver> ), al usuario definido se le muestra una vista general de todos los servicios relacionados con el equipo

   $conf['allowed_for_host_overview'] = "EVERYONE";

----

Los periodos de tiempo en el que los gráficos RRD se muestran se determinan a través del array $views[]. El título y número de los gráficos pueden especificarse globalmente aquí

<code>$views[0]["title"] = "4 Hours";
$views[0]["start"] = ( 60*60*4 );

$views[1]["title"] = "24 Hours";
$views[1]["start"] = ( 60*60*24 );

$views[2]["title"] = "One Week";
$views[2]["start"] = ( 60*60*24*7 );

$views[3]["title"] = "One Month";
$views[3]["start"] = ( 60*60*24*30 );

$views[4]["title"] = "One Year";
$views[4]["start"] = ( 60*60*24*365 );
</code>
Se pueden añadir más vistas ($views[5], ...)pero tenga en cuenta que bajo circunstancias normales TODAS las vistas definidas se muestran.

[[start|volver a contenidos]] | [[timeranges|intervalos de tiempo]]